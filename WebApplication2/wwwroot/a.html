<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title></title>
    <script>
        var exports = {};
        var require = function (v) {
            return new exports[v];
        }
    </script>
    <script src="uuid.js" type="text/javascript"></script>
    <script src="JMSUploadFile.js" type="text/javascript"></script>
</head>
<body>
    <input id="file1" multiple type="file" />
    <input id="file2" multiple type="file" />
    <button onclick="upload()">
        upload
    </button>
    <div id="info"></div>
</body>
<script lang="ja">
    async function upload() {
        var token = "WyJ7XCJkXCI6XCI2NjY2NjZcIixcImVcIjoxNzMxODk3MDY4fSIsIjYyNzc0RjQ3MDEzRTAyQjQ1RjExN0Y1MjU4NDU4NUNGIl0=";

 
        var uploader = new JmsUploader("http://localhost:5200/main/test2", [document.querySelector("#file1").files, document.querySelector("#file2").files], { "Authorization": token }, {
            name: "abc"
        });
        uploader.onUploading = function (percent) {
            document.querySelector("#info").innerHTML = percent + "%";
        };

        var ret = await uploader.upload();
        alert(ret);
    }

</script>
</html>